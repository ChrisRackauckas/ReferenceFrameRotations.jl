<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Conversions · Reference Frame Rotations</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="Reference Frame Rotations logo"/></a><h1>Reference Frame Rotations</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><a class="toctext" href="../euler_angle_axis/">Euler Angle and Axis</a></li><li><a class="toctext" href="../euler_angles/">Euler Angles</a></li><li><a class="toctext" href="../quaternions/">Quaternions</a></li><li class="current"><a class="toctext" href>Conversions</a><ul class="internal"><li><a class="toctext" href="#DCMs-to-Euler-Angles-1">DCMs to Euler Angles</a></li><li><a class="toctext" href="#DCMs-to-Quaternions-1">DCMs to Quaternions</a></li><li><a class="toctext" href="#Euler-Angle-and-Axis-to-Quaternions-1">Euler Angle and Axis to Quaternions</a></li><li><a class="toctext" href="#Euler-Angles-to-Direction-Cosine-Matrices-1">Euler Angles to Direction Cosine Matrices</a></li><li><a class="toctext" href="#Small-Euler-Angles-to-Direction-Cosine-Matrices-1">Small Euler Angles to Direction Cosine Matrices</a></li><li><a class="toctext" href="#Small-Euler-Angles-to-Quaternions-1">Small Euler Angles to Quaternions</a></li><li><a class="toctext" href="#Quaternions-to-Direction-Cosine-Matrices-1">Quaternions to Direction Cosine Matrices</a></li></ul></li><li><a class="toctext" href="../kinematics/">Kinematics</a></li><li><a class="toctext" href="../composing_rotations/">Composing rotations</a></li><li><a class="toctext" href="../inv_rotations/">Inverting rotations</a></li><li><a class="toctext" href="../../lib/library/">Library</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Conversions</a></li></ul><a class="edit-page" href="https://github.com/JuliaSpace/ReferenceFrameRotations.jl/blob/master/docs/src/man/conversions.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Conversions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Conversions-1" href="#Conversions-1">Conversions</a></h1><p>There are several functions available to convert between the different types of 3D rotation representations.</p><h2><a class="nav-anchor" id="DCMs-to-Euler-Angles-1" href="#DCMs-to-Euler-Angles-1">DCMs to Euler Angles</a></h2><p>A Direction Cosine Matrix (DCM) can be converted to Euler Angles using the following function:</p><pre><code class="language-julia">function dcm2angle(dcm, rot_seq=:ZYX)</code></pre><pre><code class="language-julia-repl">julia&gt; dcm = DCM([1 0 0; 0 0 -1; 0 1 0]);

julia&gt; dcm2angle(dcm)
EulerAngles{Float64}(0.0, 0.0, -1.5707963267948966, :ZYX)

julia&gt; dcm2angle(dcm, :XYZ)
EulerAngles{Float64}(-1.5707963267948966, 0.0, 0.0, :XYZ)</code></pre><h2><a class="nav-anchor" id="DCMs-to-Quaternions-1" href="#DCMs-to-Quaternions-1">DCMs to Quaternions</a></h2><p>A DCM can be converted to quaternion using the following method:</p><pre><code class="language-julia">function dcm2quat(dcm)</code></pre><pre><code class="language-julia-repl">julia&gt; dcm = DCM([1.0 0.0 0.0; 0.0 0.0 -1.0; 0.0 1.0 0.0]);

julia&gt; q   = dcm2quat(dcm)
Quaternion{Float64}:
  + 0.7071067811865476 - 0.7071067811865475.i + 0.0.j + 0.0.k</code></pre><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>Avoid using DCMs with <code>Int</code> numbers like:</p><pre><code class="language-julia">dcm = DCM([1 0 0; 0 0 -1; 0 1 0])</code></pre><p>because it can lead to <code>InexactError()</code> when converting to Quaternions. This bug will be addressed in a future version of <strong>ReferenceFrameRotations.jl</strong>.</p></div></div><h2><a class="nav-anchor" id="Euler-Angle-and-Axis-to-Quaternions-1" href="#Euler-Angle-and-Axis-to-Quaternions-1">Euler Angle and Axis to Quaternions</a></h2><p>A Euler angle and axis representation can be converted to quaternion using these two methods:</p><pre><code class="language-julia">function angleaxis2quat(a, v)
function angleaxis2quat(angleaxis)</code></pre><pre><code class="language-julia-repl">julia&gt; a = 60.0*pi/180;

julia&gt; v = [sqrt(3)/3;sqrt(3)/3;sqrt(3)/3];

julia&gt; angleaxis2quat(a,v)
Quaternion{Float64}:
  + 0.8660254037844387 + 0.2886751345948128.i + 0.2886751345948128.j + 0.2886751345948128.k

julia&gt; angleaxis = EulerAngleAxis(a,v);

julia&gt; angleaxis2quat(angleaxis)
Quaternion{Float64}:
  + 0.8660254037844387 + 0.2886751345948128.i + 0.2886751345948128.j + 0.2886751345948128.k</code></pre><h2><a class="nav-anchor" id="Euler-Angles-to-Direction-Cosine-Matrices-1" href="#Euler-Angles-to-Direction-Cosine-Matrices-1">Euler Angles to Direction Cosine Matrices</a></h2><p>Euler angles can be converted to DCMs using the following functions:</p><pre><code class="language-none">function angle2dcm(angle_r1, angle_r2, angle_r3, rot_seq=:ZYX)
function angle2dcm(eulerang)</code></pre><pre><code class="language-julia-repl">julia&gt; dcm = angle2dcm(pi/2, pi/4, pi/3, :ZYX)
3×3 StaticArrays.SArray{Tuple{3,3},Float64,2,9}:
  4.32978e-17  0.707107  -0.707107
 -0.5          0.612372   0.612372
  0.866025     0.353553   0.353553

julia&gt; angles = EulerAngles(pi/2, pi/4, pi/3, :ZYX);

julia&gt; dcm    = angle2dcm(angles)
3×3 StaticArrays.SArray{Tuple{3,3},Float64,2,9}:
  4.32978e-17  0.707107  -0.707107
 -0.5          0.612372   0.612372
  0.866025     0.353553   0.353553</code></pre><h3><a class="nav-anchor" id="Euler-Angles-to-Quaternions-1" href="#Euler-Angles-to-Quaternions-1">Euler Angles to Quaternions</a></h3><p>Euler angles can be converted to quaternions using the following functions:</p><pre><code class="language-julia">function angle2quat(angle_r1, angle_r2, angle_r3, rot_seq=:ZYX)
function angle2quat(eulerang)</code></pre><pre><code class="language-julia-repl">julia&gt; q = angle2quat(pi/2, pi/4, pi/3, :ZYX)
Quaternion{Float64}:
  + 0.7010573846499779 + 0.09229595564125723.i + 0.5609855267969309.j + 0.43045933457687935.k

julia&gt; angles = EulerAngles(pi/2, pi/4, pi/3, :ZYX);

julia&gt; q    = angle2quat(angles)
Quaternion{Float64}:
  + 0.7010573846499779 + 0.09229595564125723.i + 0.5609855267969309.j + 0.43045933457687935.k</code></pre><h2><a class="nav-anchor" id="Small-Euler-Angles-to-Direction-Cosine-Matrices-1" href="#Small-Euler-Angles-to-Direction-Cosine-Matrices-1">Small Euler Angles to Direction Cosine Matrices</a></h2><p>Small Euler angles can be converted to DCMs using the following function:</p><pre><code class="language-julia">function smallangle2dcm(θx, θy, θz)</code></pre><pre><code class="language-julia-repl">julia&gt; dcm = smallangle2dcm(0.001, -0.002, +0.003)
3×3 StaticArrays.SArray{Tuple{3,3},Float64,2,9}:
  1.0     0.003  0.002
 -0.003   1.0    0.001
 -0.002  -0.001  1.0</code></pre><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>The computed DCM <strong>is not</strong> ortho-normalized.</p></div></div><h2><a class="nav-anchor" id="Small-Euler-Angles-to-Quaternions-1" href="#Small-Euler-Angles-to-Quaternions-1">Small Euler Angles to Quaternions</a></h2><p>Small Euler angles can be converted to quaternions using the following function:</p><pre><code class="language-julia">function smallangle2quat(θx, θy, θz)</code></pre><pre><code class="language-julia-repl">julia&gt; q = smallangle2quat(0.001, -0.002, +0.003)
Quaternion{Float64}:
  + 0.9999982500045936 + 0.0004999991250022968.i - 0.0009999982500045936.j + 0.0014999973750068907.k</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The computed quaternion <strong>is</strong> normalized.</p></div></div><h2><a class="nav-anchor" id="Quaternions-to-Direction-Cosine-Matrices-1" href="#Quaternions-to-Direction-Cosine-Matrices-1">Quaternions to Direction Cosine Matrices</a></h2><p>A quaternion can be converted to DCM using the following method:</p><pre><code class="language-julia">function quat2dcm(q)</code></pre><pre><code class="language-julia-repl">julia&gt; q   = Quaternion(cosd(22.5), sind(22.5), 0.0, 0.0);

julia&gt; dcm = quat2dcm(q)
3×3 StaticArrays.SArray{Tuple{3,3},Float64,2,9}:
 1.0   0.0       0.0
 0.0   0.707107  0.707107
 0.0  -0.707107  0.707107</code></pre><h3><a class="nav-anchor" id="Quaternions-to-Euler-Angle-and-Axis-1" href="#Quaternions-to-Euler-Angle-and-Axis-1">Quaternions to Euler Angle and Axis</a></h3><p>A quaternion can be converted to Euler Angle and Axis representation using the following function:</p><pre><code class="language-julia">function quat2angleaxis(q)</code></pre><pre><code class="language-julia-repl">julia&gt; v = [sqrt(3)/3;sqrt(3)/3;sqrt(3)/3];

julia&gt; a = 60.0*pi/180;

julia&gt; q = Quaternion(cos(a/2), v*sin(a/2));

julia&gt; quat2angleaxis(q)
EulerAngleAxis{Float64}(1.0471975511965974, [0.57735, 0.57735, 0.57735])</code></pre><h3><a class="nav-anchor" id="Quaternions-to-Euler-Angles-1" href="#Quaternions-to-Euler-Angles-1">Quaternions to Euler Angles</a></h3><p>There is one method to convert quaternions to Euler Angles:</p><pre><code class="language-julia">function quat2angle(q, rot_seq=:ZYX)</code></pre><p>However, it first transforms the quaternion to DCM using <code>quat2dcm</code> and then transforms the DCM into the Euler Angles. Hence, the performance will be poor. The improvement of this conversion will be addressed in a future version of <strong>ReferenceFrameRotations.jl</strong>.</p><pre><code class="language-julia-repl">julia&gt; q = Quaternion(cosd(22.5), sind(22.5), 0.0, 0.0);

julia&gt; quat2angle(q, :XYZ)
EulerAngles{Float64}(0.7853981633974484, 0.0, -0.0, :XYZ)</code></pre><footer><hr/><a class="previous" href="../quaternions/"><span class="direction">Previous</span><span class="title">Quaternions</span></a><a class="next" href="../kinematics/"><span class="direction">Next</span><span class="title">Kinematics</span></a></footer></article></body></html>
